{"version":3,"sources":["components/apiParams.js","components/Api.js","contexts/CurrentUserContext.js","images/logo.svg","components/Header.js","components/Card.js","components/Main.js","images/close.svg","components/PopupWithForm.js","components/AddCardPopup.js","components/EditPopup.js","components/EditPhotoPopup.js","components/ImagePopup.js","components/Footer.js","components/App.js","index.js"],"names":["apiParams","api","options","this","fetch","baseUrl","headers","then","res","ok","json","Promise","reject","status","data","catch","err","console","log","name","about","method","body","JSON","stringify","link","id","avatar","authorization","CurrentUserContext","React","createContext","Header","className","src","headerLogo","alt","Card","props","currentUser","useContext","card","_id","onMouseUp","e","target","classList","contains","onCardClick","style","backgroundImage","owner","onCardDelete","likes","some","i","onCardLike","length","Main","cursor","onEditAvatar","onEditProfile","onAddPlace","cards","map","key","PopupWithForm","isOpen","closePic","onClose","title","noValidate","onSubmit","children","type","submitBtnTitle","AddCardPopup","useState","cardName","setCardName","cardLink","setCardLink","preventDefault","onAddCard","required","minLength","maxLength","onChange","value","placeholder","EditPopup","setName","description","setDescription","useEffect","onUpdateUser","EditPhotoPopup","setAvatar","avatarRef","useRef","onUpdateAvatar","current","ref","ImagePopup","Footer","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","getUserInfo","getInitialCards","closeAllPopups","Provider","deleteLike","newCard","newCards","c","likeCard","deleteCard","filter","addCard","editProfile","updateAvatar","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.dd15f9cd.chunk.js","sourcesContent":["import Api from './Api';\r\n\r\nconst apiParams =  {\r\n\r\n    api : new Api({\r\n      baseUrl: 'https://nomoreparties.co/cohort9',\r\n      headers: {\r\n        authorization: '548c5797-a590-40d0-8f9e-48d758ca9ae7',\r\n        'Content-Type': 'application/json'\r\n      }\r\n    }),\r\n\r\n}\r\n\r\n\r\nexport default apiParams;\r\n","export default class Api {\r\n    constructor(options) {\r\n      this.options = options;\r\n    }\r\n  \r\n    getInitialCards() {\r\n      return  fetch( this.options.baseUrl + '/cards', {\r\n          headers : this.options.headers,\r\n        })\r\n      .then((res) => {\r\n          if (res.ok) {\r\n            return res.json();\r\n          }\r\n      \r\n              return Promise.reject(` ${res.status}`);\r\n        })\r\n        .then((data) => {  \r\n          return data;\r\n        })                  \r\n        .catch((err) => {\r\n          console.log(err); \r\n        })\r\n\r\n    }\r\n \r\n\r\n    getUserInfo(){\r\n      return  fetch(this.options.baseUrl + '/users/me', {\r\n        headers : this.options.headers,\r\n      })\r\n      .then((res) => {\r\n          if (res.ok) {\r\n            return res.json();\r\n          }\r\n      \r\n              return Promise.reject(` ${res.status}`);\r\n        })\r\n        .then((data) => {\r\n\r\n          return data;\r\n        })                  \r\n        .catch((err) => {\r\n          console.log(err); \r\n        });\r\n\r\n    }\r\n\r\n    editProfile(name, about){\r\n      this.name = name;\r\n      this.about = about;\r\n\r\n    return fetch(this.options.baseUrl + '/users/me', {\r\n          method: 'PATCH',\r\n          body: JSON.stringify({\r\n            name: `${this.name}`,\r\n            about: `${this.about}`\r\n          }),\r\n          headers: \r\n              this.options.headers,\r\n      })\r\n      .then((res) => {\r\n          if (res.ok) {\r\n            return res.json();\r\n          }\r\n      \r\n              return Promise.reject(` ${res.status}`);\r\n        })\r\n        .then((data) => {\r\n          console.log(data)\r\n\r\n          return data;\r\n        })                  \r\n        .catch((err) => {\r\n          console.log(err); \r\n        })\r\n    }\r\n\r\n    addCard(name, link){\r\n        this.name = name;\r\n        this.link = link;\r\n      return  fetch(this.options.baseUrl + '/cards', {\r\n            method: 'POST',\r\n            body: JSON.stringify({\r\n              name: `${this.name}`,\r\n              link: `${this.link}`\r\n            }),\r\n            headers: \r\n                this.options.headers,\r\n        })\r\n            .then((res) => {\r\n                if (res.ok) {\r\n                  return res.json();\r\n                }\r\n            \r\n                    return Promise.reject(` ${res.status}`);\r\n              })\r\n              .then((data) => {\r\n                return data;\r\n              })                  \r\n              .catch((err) => {\r\n                console.log(err); \r\n              })\r\n            \r\n    };\r\n   \r\n    \r\n    deleteCard(id){\r\n        this.id = id;\r\n      return  fetch(this.options.baseUrl + '/cards/' + id, {\r\n            method: 'DELETE',\r\n            headers:  \r\n                this.options.headers,\r\n        })\r\n        .then((res) => {\r\n            if (res.ok) {\r\n              return res.json();\r\n            }\r\n        \r\n                return Promise.reject(` ${res.status}`);\r\n          })\r\n          .then((data) => {\r\n            return data;\r\n          })                  \r\n          .catch((err) => {\r\n            console.log(err); \r\n          });  \r\n        \r\n    }\r\n    likeCard(id){\r\n      return  fetch(this.options.baseUrl + '/cards/like/' + id, {\r\n            method: 'PUT',\r\n            headers:  \r\n                this.options.headers,\r\n        })\r\n        .then((res) => {\r\n            if (res.ok) {\r\n              return res.json();\r\n            }\r\n        \r\n                return Promise.reject(` ${res.status}`);\r\n          })\r\n          .then((data) => {\r\n            return data;\r\n          })                  \r\n          .catch((err) => {\r\n            console.log(err); \r\n          });  \r\n        \r\n    }\r\n    deleteLike(id){\r\n        return  fetch(this.options.baseUrl + '/cards/like/' + id, {\r\n              method: 'DELETE',\r\n              headers:  \r\n                  this.options.headers,\r\n          })\r\n          .then((res) => {\r\n              if (res.ok) {\r\n                return res.json();\r\n              }\r\n          \r\n                  return Promise.reject(` ${res.status}`);\r\n            })\r\n            .then((data) => {\r\n              return data;\r\n            })                  \r\n            .catch((err) => {\r\n              console.log(err); \r\n            });  \r\n          \r\n      }\r\n    updateAvatar(link){\r\n      this.link = link;\r\n      return  fetch(this.options.baseUrl + '/users/me/avatar', {\r\n        method: 'PATCH',\r\n        body: JSON.stringify({\r\n          avatar: `${this.link}`,\r\n        }),\r\n        headers: \r\n            this.options.headers,\r\n    })\r\n      .then((res) => {\r\n          if (res.ok) {\r\n            return res.json();\r\n          }\r\n      \r\n              return Promise.reject(` ${res.status}`);\r\n        })\r\n        .then((data) => {\r\n          return data;\r\n        })                  \r\n        .catch((err) => {\r\n          console.log(err); \r\n        })\r\n    }\r\n  \r\n  }\r\n\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","export default __webpack_public_path__ + \"static/media/logo.fad4f8a5.svg\";","import React from 'react';\r\nimport headerLogo from '../images/logo.svg';\r\n\r\n\r\nfunction Header(){\r\n        return (\r\n            <header className=\"header root__section\">\r\n                <img src={headerLogo} id='logo' alt=\"mesto logo\" className=\"logo\" />\r\n            </header>\r\n        );\r\n    \r\n}\r\nexport default Header;","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card (props){\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n\r\n    const handleClick = (e) => {\r\n        if (e.target.classList.contains('place-card__image')) {\r\n            props.onCardClick(props.card);\r\n          }\r\n      \r\n        }\r\n    \r\n    const handleLikeClick = () => {\r\n        props.onCardLike(props.card);\r\n    }\r\n\r\n    const handleDeleteClick = () => {\r\n        props.onCardDelete(props.card);\r\n    }\r\n  \r\n    return (\r\n    <div className=\"place-card\" id={props.card._id}>\r\n        <div className=\"place-card__image\" onMouseUp={handleClick} style={{ backgroundImage: 'url(' + props.card.link + ')'}}>\r\n        {props.card.owner._id === currentUser._id ? <button className=\"place-card__delete-icon\" onMouseUp={handleDeleteClick}></button> : ''}\r\n        </div>\r\n        <div  className=\"place-card__description\">\r\n            <h3  className=\"place-card__name\">{props.card.name}</h3>\r\n        <div  className=\"place-card__like-box\">\r\n        <button  className={`place-card__like-icon ${props.card.likes.some(i => i._id === currentUser._id) ? 'place-card__like-icon_liked' : ''}`} onMouseUp={handleLikeClick}></button>\r\n        <span  className=\"place-card__like-number\">{props.card.likes.length}</span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\nexport default Card;","import React from 'react';\r\nimport Card from './Card';\r\nimport apiParams from './apiParams';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props){\r\n    const api = apiParams.api;\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    \r\n    \r\nreturn (\r\n    <>    \r\n        <div id='profileRoot' className=\"profile root__section\">\r\n            <div className=\"user-info\">\r\n                <div id = \"userInfoPic\" className=\"user-info__photo\" style={{ backgroundImage: 'url(' + currentUser.avatar + ')', cursor: \"pointer\"}}  onMouseUp={props.onEditAvatar}></div>\r\n                <div id=\"userInfoData\" className=\"user-info__data\">\r\n                <h1 id = \"userInfoName\" className=\"user-info__name\">{currentUser.name}</h1>\r\n                <p id = \"userInfoJob\" className=\"user-info__job\">{currentUser.about}</p>\r\n                <button id=\"userInfoEditButton\" className=\"button user-info-edit__button\" onMouseUp={props.onEditProfile}>Edit</button>\r\n                </div>\r\n                <button id=\"userInfoButton\" className=\"button user-info__button\" onMouseUp={props.onAddPlace}>+</button>\r\n            </div>\r\n        </div>\r\n        <div id=\"placesList\" className=\"places-list root__section\">\r\n            {props.cards && props.cards.map((card, key) => {\r\n\r\n                return  <Card onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete} card={card} key={key}/> \r\n            })}\r\n        </div>\r\n    </>\r\n    );\r\n\r\n}\r\nexport default Main;","export default __webpack_public_path__ + \"static/media/close.8a65f75d.svg\";","import React from 'react';\r\nimport closePic from '../images/close.svg';\r\n\r\n\r\nfunction  PopupWithForm(props) {\r\n   \r\n  \r\n        return (\r\n        <div className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_is-opened' : ''} ` }>\r\n            <div className=\"popup__content\">\r\n                <img src={closePic} alt=\"close\" className=\"popup__close\" onMouseUp={props.onClose}/>\r\n                <h3 className={`popup__title popup__title_${props.name}`}>{props.title}</h3>\r\n                <form id={`popupForm${props.name}`} className=\"popup__form\" name=\"form\" noValidate onSubmit={props.onSubmit}>\r\n                    {props.children}  \r\n                <button id={`popupButton${props.name}`} type=\"submit\" className=\"button popup__button\">{props.submitBtnTitle}</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n        );\r\n    \r\n}\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\n\r\nfunction AddCardPopup (props) {\r\n\r\n    const [cardName, setCardName] = React.useState('');\r\n    const [cardLink, setCardLink] = React.useState('');\r\n\r\n    const handleChangeCardName = (e) => {\r\n        setCardName(e.target.value)\r\n    }\r\n    const handleChangeCardLink = (e) => {\r\n        setCardLink(e.target.value)\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        props.onAddCard({\r\n            cardName,\r\n            cardLink,\r\n        });\r\n    }\r\n\r\n        return (\r\n                \r\n        <PopupWithForm onSubmit={handleSubmit} isOpen={props.isOpen} onClose={props.onClose} name=\"addCardPopup\" submitBtnTitle=\"+\" title=\"Новое место\" children={\r\n            <>\r\n                <input id=\"inputName\" type=\"text\" name=\"name\" required minLength=\"2\" maxLength=\"30\" onChange={handleChangeCardName} className=\"popup__input popup__input_type_name\" placeholder=\"Название\"/>\r\n                <span id='error-inputName' className=\"error\"/>\r\n\r\n                <input id=\"inputLink\" type=\"url\" name=\"link\" required minLength=\"2\" onChange={handleChangeCardLink} className=\"popup__input popup__input_type_link-url\" placeholder=\"Ссылка на картинку\"/>\r\n                <span id=\"error-inputLink\" className=\"error\"/>\r\n            </>  \r\n        }/>\r\n    );\r\n}\r\nexport default AddCardPopup;\r\n\r\n","import React, { useState } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction EditPopup(props){\r\n\r\nconst currentUser = React.useContext(CurrentUserContext);\r\n\r\n    const [name, setName] = React.useState('');\r\n    const [description, setDescription] = React.useState('');\r\n\r\n\r\n    const handleChangeName = (e) => {\r\n        setName(e.target.value)\r\n    }\r\n    const handleChangeDescription = (e) => {\r\n        setDescription(e.target.value)\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser]);\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        // Передаём значения управляемых компонентов во внешний обработчик\r\n        props.onUpdateUser({\r\n          name,\r\n          about: description,\r\n        });\r\n    }\r\n\r\n    return (\r\n                \r\n        <PopupWithForm onSubmit={handleSubmit} isOpen={props.isOpen} onClose={props.onClose} name=\"editPopup\" submitBtnTitle=\"Сохранить\" title=\"Редактировать профиль\" children={\r\n            <>\r\n                <input id=\"inputUserNameEdit\" type=\"text\" minLength=\"2\" maxLength=\"30\" onChange={handleChangeName} required name=\"userName\" className=\"popup__input popup__input_type_userName\" placeholder=\"Имя\"/>\r\n                <span id=\"error-inputUserNameEdit\" className=\"error\"/>\r\n                \r\n                <input id=\"inputUserInfoEdit\" type=\"text\" name=\"userInfo\" minLength=\"2\" maxLength=\"30\" onChange={handleChangeDescription} required className=\"popup__input popup__input_type_userInfo\"  placeholder=\"О себе\"/>\r\n                <span  id=\"error-inputUserInfoEdit\" className=\"error\"/>\r\n            </>  \r\n        }/>\r\n    );\r\n\r\n}\r\nexport default EditPopup;\r\n\r\n\r\n","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\n\r\nfunction EditPhotoPopup (props) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    const [avatar, setAvatar] = React.useState('');\r\n    const avatarRef = React.useRef();\r\n\r\n    const handleChange = (e) => {\r\n        setAvatar(e.target.value)\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        setAvatar(currentUser.avatar);\r\n    }, [currentUser]);\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n      \r\n        props.onUpdateAvatar({\r\n          avatar: avatarRef.current.value,\r\n        });\r\n    }\r\n        return (\r\n                \r\n        <PopupWithForm onSubmit={handleSubmit} isOpen={props.isOpen} onClose={props.onClose} name=\"EditPhotoPopup\" submitBtnTitle=\"Сохранить\" title=\"Обновить аватар\" children={\r\n            <>             \r\n            <input ref={avatarRef} onChange={handleChange} avatar={avatar} id=\"inputLinkPhoto\" type=\"url\" name=\"link\" required minLength=\"2\" className=\"popup__input popup__input_type_link-url_photo\" placeholder=\"Ссылка на аватар\"/>\r\n            <span id=\"error-inputLinkPhoto\" className=\"error\"/>      \r\n            </>  \r\n        }/>\r\n    );\r\n\r\n}\r\nexport default EditPhotoPopup;\r\n\r\n\r\n","import React from 'react';\r\nimport closePic from '../images/close.svg';\r\n\r\n\r\nfunction ImagePopup(props) {\r\n  \r\n        return (\r\n\r\n            <div id=\"popupPic\" className={`popup popup__pic ${props.card !== false ? 'popup_is-opened' : ''}`}>\r\n                <div className=\"popup__content popup__content_pic\">\r\n                    <img id=\"popupPicOpen\" src={props.card.link} className =\"popup-pic__open\" alt=\"\"/>\r\n                    <img src={closePic} onMouseUp={props.onClose} alt=\"\" id=\"popupClosePic\" className=\"popup__close\"/>\r\n                </div>\r\n            </div>\r\n        );\r\n    \r\n}\r\nexport default ImagePopup;","import React from 'react';\r\n\r\n\r\nfunction Footer() {\r\n\r\n        return (\r\n            <footer className=\"footer root__section\">\r\n                <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\r\n            </footer>\r\n        );\r\n    \r\n}\r\n\r\nexport default Footer;","import React from 'react';\nimport apiParams from './apiParams';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext'\nimport {CardsContext} from '../contexts/CardsContext'\nimport Header from './Header';\nimport Main from './Main';\nimport AddCardPopup from './AddCardPopup';\nimport EditPopup from './EditPopup';\nimport EditPhotoPopup from './EditPhotoPopup';\nimport ImagePopup from './ImagePopup';\nimport Footer from './Footer';\n\nfunction App()  {\n const api = apiParams.api;\n const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n const [selectedCard, setSelectedCard] = React.useState(false);\n\n const [currentUser, setCurrentUser] = React.useState('');\n const [cards, setCards] = React.useState('');\n\n React.useEffect(() => {\n    api.getUserInfo().then(data => {\n        setCurrentUser(data);\n    });\n\n    api.getInitialCards().then(data => {\n        console.log(data)\n        setCards(data)\n    });\n\n}, []);\n\n\nconst handleCardLike = (card) => {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    !isLiked ?  api.likeCard(card._id).then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      setCards(newCards);\n    })\n    :\n    api.deleteLike(card._id).then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      });\n\n}\nconst handleCardDelete = (card) => {\n    if(card.owner._id === currentUser._id){\n        api.deleteCard(card._id).then(() => {\n        const newCards = cards.filter((c) => c._id !== card._id );\n        setCards(newCards);\n        });  \n    }            \n}\n    \nconst handleCardClick = (card) => {\n    setSelectedCard(card);\n}\n    \nconst handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true);\n };\n\nconst handleEditProfileClick = () => {\n   setIsEditProfilePopupOpen(true);\n\n}; \n\nconst handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true);\n\n};\nconst closeAllPopups = () => {\n    setSelectedCard(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n}\n\nconst handleUpdateUser = (data) => {\n    \n    api.editProfile(data.name, data.about).then(data => {\n        setCurrentUser(data);\n    });\n    closeAllPopups()\n}\nconst handleUpdateAvatar = (data) => {\n\n    api.updateAvatar(data.avatar).then(data => {\n        setCurrentUser(data);\n    });\n    closeAllPopups()\n}\nconst handleAddPlaceSubmit = (data) => {\n    api.addCard(data.cardName, data.cardLink).then((newCard) => {\n        setCards([...cards, newCard]);\n    }); \n    closeAllPopups()\n\n}\n\n        return (\n            <>\n                <CurrentUserContext.Provider value={currentUser}>\n                <Header />\n                <Main onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} \n                    onEditAvatar={handleEditAvatarClick} onCardClick={handleCardClick} cards={cards} onCardLike={handleCardLike} onCardDelete={handleCardDelete}/>\n                <ImagePopup card={selectedCard} onClose={closeAllPopups}/>\n                <AddCardPopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddCard={handleAddPlaceSubmit}/>\n                <EditPopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser}/>\n                <EditPhotoPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}/>\n                <Footer />\n                </CurrentUserContext.Provider>\n            </>\n        );\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}