{"version":3,"sources":["components/secretToken.js","components/apiParams.js","components/Api.js","components/AuthChecker.js","contexts/CurrentUserContext.js","components/Login.js","images/logo.svg","components/Header.js","components/Card.js","components/Main.js","images/close.svg","components/PopupWithForm.js","components/AddCardPopup.js","components/EditPopup.js","components/EditPhotoPopup.js","components/ImagePopup.js","components/Footer.js","components/App.js","index.js"],"names":["secretToken","apiParams","api","options","this","fetch","baseUrl","headers","then","res","ok","json","Promise","reject","status","data","catch","err","console","log","name","about","method","body","JSON","stringify","link","id","avatar","authorization","AuthChecker","props","useHistory","jwt","history","push","CurrentUserContext","React","createContext","Login","state","username","password","handleChange","bind","handleSubmit","e","target","value","setState","preventDefault","onLogIn","className","onSubmit","htmlhtmlFor","required","type","onChange","placeholder","Component","withRouter","Header","src","headerLogo","alt","isLoggedIn","onClick","onLogOut","Card","currentUser","useContext","card","_id","onMouseUp","classList","contains","onCardClick","style","backgroundImage","owner","window","confirm","onCardDelete","likes","some","i","onCardLike","length","Main","cursor","onEditAvatar","onEditProfile","onAddPlace","cards","map","key","PopupWithForm","isOpen","closePic","onClose","title","noValidate","children","disabled","buttonDisabled","buttonText","submitBtnTitle","AddCardPopup","useState","cardName","setCardName","cardNameValue","setСardNameValue","cardNameError","setСardNameError","cardLink","setCardLink","cardLinkValue","setСardLinkValue","cardLinkError","setСardLinkError","handleErrorCardName","handleErrorCardLink","test","onAddCard","minLength","maxLength","EditPopup","setName","nameValue","setNameValue","nameError","setNameError","description","setDescription","descriptionValue","setDescriptionValue","descriptionError","setDescriptionError","useEffect","handleError","onUpdateUser","EditPhotoPopup","setAvatar","setValue","error","setError","avatarRef","useRef","onUpdateAvatar","current","ref","ImagePopup","Footer","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setButtonText","setIsLoggedIn","localStorage","getItem","getContent","getUserInfo","getInitialCards","closeAllPopups","removeItem","exact","path","to","setItem","Provider","deleteLike","newCard","newCards","c","likeCard","deleteCard","filter","addCard","editProfile","updateAvatar","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3af9d65f.chunk.js","sourcesContent":["export const secretToken = '548c5797-a590-40d0-8f9e-48d758ca9ae7'","import Api from './Api';\r\nimport * as secretToken from './secretToken';\r\n\r\nconst apiParams =  {\r\n\r\n    api : new Api({\r\n      baseUrl: 'https://nomoreparties.co/cohort9',\r\n      headers: {\r\n        authorization: secretToken.secretToken,\r\n        'Content-Type': 'application/json'\r\n      }\r\n    }),\r\n\r\n}\r\n\r\n\r\nexport default apiParams;\r\n","export default class Api {\r\n    constructor(options) {\r\n      this.options = options;\r\n    }\r\n  \r\n    getInitialCards() {\r\n      return  fetch( this.options.baseUrl + '/cards', {\r\n          headers : this.options.headers,\r\n        })\r\n      .then((res) => {\r\n          if (res.ok) {\r\n            return res.json();\r\n          }\r\n      \r\n              return Promise.reject(` ${res.status}`);\r\n        })\r\n        .then((data) => {  \r\n          return data;\r\n        })                  \r\n        .catch((err) => {\r\n          console.log(err); \r\n        })\r\n\r\n    }\r\n \r\n\r\n    getUserInfo(){\r\n      return  fetch(this.options.baseUrl + '/users/me', {\r\n        headers : this.options.headers,\r\n      })\r\n      .then((res) => {\r\n          if (res.ok) {\r\n            return res.json();\r\n          }\r\n      \r\n              return Promise.reject(` ${res.status}`);\r\n        })\r\n        .then((data) => {\r\n\r\n          return data;\r\n        })                  \r\n        .catch((err) => {\r\n          console.log(err); \r\n        });\r\n\r\n    }\r\n\r\n    editProfile(name, about){\r\n      this.name = name;\r\n      this.about = about;\r\n\r\n    return fetch(this.options.baseUrl + '/users/me', {\r\n          method: 'PATCH',\r\n          body: JSON.stringify({\r\n            name: `${this.name}`,\r\n            about: `${this.about}`\r\n          }),\r\n          headers: \r\n              this.options.headers,\r\n      })\r\n      .then((res) => {\r\n          if (res.ok) {\r\n            return res.json();\r\n          }\r\n      \r\n              return Promise.reject(` ${res.status}`);\r\n        })\r\n        .then((data) => {\r\n          console.log(data)\r\n\r\n          return data;\r\n        })                  \r\n        .catch((err) => {\r\n          console.log(err); \r\n        })\r\n    }\r\n\r\n    addCard(name, link){\r\n        this.name = name;\r\n        this.link = link;\r\n      return  fetch(this.options.baseUrl + '/cards', {\r\n            method: 'POST',\r\n            body: JSON.stringify({\r\n              name: `${this.name}`,\r\n              link: `${this.link}`\r\n            }),\r\n            headers: \r\n                this.options.headers,\r\n        })\r\n            .then((res) => {\r\n                if (res.ok) {\r\n                  return res.json();\r\n                }\r\n            \r\n                    return Promise.reject(` ${res.status}`);\r\n              })\r\n              .then((data) => {\r\n                return data;\r\n              })                  \r\n              .catch((err) => {\r\n                console.log(err); \r\n              })\r\n            \r\n    };\r\n   \r\n    \r\n    deleteCard(id){\r\n        this.id = id;\r\n      return  fetch(this.options.baseUrl + '/cards/' + id, {\r\n            method: 'DELETE',\r\n            headers:  \r\n                this.options.headers,\r\n        })\r\n        .then((res) => {\r\n            if (res.ok) {\r\n              return res.json();\r\n            }\r\n        \r\n                return Promise.reject(` ${res.status}`);\r\n          })\r\n          .then((data) => {\r\n            return data;\r\n          })                  \r\n          .catch((err) => {\r\n            console.log(err); \r\n          });  \r\n        \r\n    }\r\n    likeCard(id){\r\n      return  fetch(this.options.baseUrl + '/cards/like/' + id, {\r\n            method: 'PUT',\r\n            headers:  \r\n                this.options.headers,\r\n        })\r\n        .then((res) => {\r\n            if (res.ok) {\r\n              return res.json();\r\n            }\r\n        \r\n                return Promise.reject(` ${res.status}`);\r\n          })\r\n          .then((data) => {\r\n            return data;\r\n          })                  \r\n          .catch((err) => {\r\n            console.log(err); \r\n          });  \r\n        \r\n    }\r\n    deleteLike(id){\r\n        return  fetch(this.options.baseUrl + '/cards/like/' + id, {\r\n              method: 'DELETE',\r\n              headers:  \r\n                  this.options.headers,\r\n          })\r\n          .then((res) => {\r\n              if (res.ok) {\r\n                return res.json();\r\n              }\r\n          \r\n                  return Promise.reject(` ${res.status}`);\r\n            })\r\n            .then((data) => {\r\n              return data;\r\n            })                  \r\n            .catch((err) => {\r\n              console.log(err); \r\n            });  \r\n          \r\n      }\r\n    updateAvatar(link){\r\n      this.link = link;\r\n      return  fetch(this.options.baseUrl + '/users/me/avatar', {\r\n        method: 'PATCH',\r\n        body: JSON.stringify({\r\n          avatar: `${this.link}`,\r\n        }),\r\n        headers: \r\n            this.options.headers,\r\n    })\r\n      .then((res) => {\r\n          if (res.ok) {\r\n            return res.json();\r\n          }\r\n      \r\n              return Promise.reject(` ${res.status}`);\r\n        })\r\n        .then((data) => {\r\n          return data;\r\n        })                  \r\n        .catch((err) => {\r\n          console.log(err); \r\n        })\r\n    }\r\n  \r\n  }\r\n\r\n","import React from 'react';\r\nimport * as secretToken from './secretToken';\r\nimport { useParams, useHistory } from 'react-router-dom'; \r\n\r\n\r\nfunction AuthChecker(props){\r\nreturn  AuthChecker = (props) => {\r\n    const history = useHistory(); \r\n\r\n    if (props.jwt === secretToken.secretToken){\r\n        props.history.push(\"/user\");\r\n\r\n        return true;\r\n        \r\n    }else{\r\n        return false;\r\n    }\r\n}\r\n}\r\nexport default AuthChecker;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nclass Login extends React.Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      username: '',\r\n      password: ''\r\n    }\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n  \r\n  handleChange(e) {\r\n    const {name, value} = e.target;\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  }\r\n  handleSubmit(e){\r\n    e.preventDefault();\r\n    if (!this.state.username || !this.state.password){\r\n      return;\r\n    }\r\n    this.props.history.push('/user');\r\n    console.log(this.props)\r\n    this.props.onLogIn();\r\n\r\n  }\r\n  render(){\r\n    return(\r\n      <div className=\"login\">\r\n        <h3 className=\"login__welcome\">\r\n          Добро пожаловать!\r\n        </h3>\r\n        <form onSubmit={this.handleSubmit} className=\"login__form\">\r\n          <label  htmlhtmlFor=\"username\">\r\n            Логин:\r\n          </label>\r\n          <input className=\" popup__input login__input\" required id=\"username\" name=\"username\" type=\"text\" value={this.state.username} onChange={this.handleChange} placeholder='Любой логин'/>\r\n          <label  htmlhtmlFor=\"password\">\r\n            Пароль:\r\n          </label>\r\n          <input  required id=\"password\" name=\"password\" className=\"popup__input login__input\" type=\"password\" value={this.state.password} onChange={this.handleChange} placeholder='Любой пароль'/>\r\n          <div className=\"login__button-container button__submit\">\r\n            <button type=\"submit\" onSubmit={this.handleSubmit} className=\"login__link\">Войти</button>\r\n          </div>\r\n        </form>\r\n\r\n        <div className=\"login__signup\">\r\n          <p>Ещё не зарегистрированы?</p>\r\n          <p>Регистрация недоступна</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Login);\r\n","export default __webpack_public_path__ + \"static/media/logo.fad4f8a5.svg\";","import React from 'react';\r\nimport headerLogo from '../images/logo.svg';\r\n\r\n\r\n\r\n\r\nfunction Header(props){\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        props.onLogOut();\r\n    }\r\n        return (\r\n            <header className=\"header root__section\">\r\n                <img src={headerLogo} id='logo' alt=\"mesto logo\" className=\"logo\" />\r\n               {props.isLoggedIn && <button className={'button button__signOut'} type='submit' onClick={handleSubmit} >Выйти</button>}\r\n            </header> \r\n        );\r\n    \r\n}\r\nexport default Header;","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card (props){\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n\r\n    const handleClick = (e) => {\r\n        if (e.target.classList.contains('place-card__image')) {\r\n            props.onCardClick(props.card);\r\n          }\r\n      \r\n        }\r\n    \r\n    const handleLikeClick = () => {\r\n        props.onCardLike(props.card);\r\n    }\r\n\r\n    const handleDeleteClick = () => {\r\n        if(window.confirm(\"Вы действительно хотите удалить карточку?\")){\r\n            props.onCardDelete(props.card);\r\n        }\r\n    }\r\n  \r\n    return (\r\n    <div className=\"place-card\" id={props.card._id}>\r\n        <div className=\"place-card__image\" onMouseUp={handleClick} style={{ backgroundImage: 'url(' + props.card.link + ')'}}>\r\n        {props.card.owner._id === currentUser._id ? <button className=\"place-card__delete-icon\" onMouseUp={handleDeleteClick}></button> : ''}\r\n        </div>\r\n        <div  className=\"place-card__description\">\r\n            <h3  className=\"place-card__name\">{props.card.name}</h3>\r\n        <div  className=\"place-card__like-box\">\r\n        <button  className={`place-card__like-icon ${props.card.likes.some(i => i._id === currentUser._id) ? 'place-card__like-icon_liked' : ''}`} onMouseUp={handleLikeClick}></button>\r\n        <span  className=\"place-card__like-number\">{props.card.likes.length}</span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\nexport default Card;","import React from 'react';\r\nimport Card from './Card';\r\nimport apiParams from './apiParams';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props){\r\n    const api = apiParams.api;\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    \r\n    \r\nreturn (\r\n    <>    \r\n        <div id='profileRoot' className=\"profile root__section\">\r\n            <div className=\"user-info\">\r\n                <div id = \"userInfoPic\" className=\"user-info__photo\" style={{ backgroundImage: 'url(' + currentUser.avatar + ')', cursor: \"pointer\"}}  onMouseUp={props.onEditAvatar}></div>\r\n                <div id=\"userInfoData\" className=\"user-info__data\">\r\n                <h1 id = \"userInfoName\" className=\"user-info__name\">{currentUser.name}</h1>\r\n                <p id = \"userInfoJob\" className=\"user-info__job\">{currentUser.about}</p>\r\n                <button id=\"userInfoEditButton\" className=\"button user-info-edit__button\" onMouseUp={props.onEditProfile}>Edit</button>\r\n                </div>\r\n                <button id=\"userInfoButton\" className=\"button user-info__button\" onMouseUp={props.onAddPlace}>+</button>\r\n            </div>\r\n        </div>\r\n        <div id=\"placesList\" className=\"places-list root__section\">\r\n            {props.cards && props.cards.map((card, key) => {\r\n\r\n                return  <Card onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete} card={card} key={key}/> \r\n            })}\r\n        </div>\r\n    </>\r\n    );\r\n\r\n}\r\nexport default Main;","export default __webpack_public_path__ + \"static/media/close.8a65f75d.svg\";","import React from 'react';\r\nimport closePic from '../images/close.svg';\r\n\r\n\r\nfunction  PopupWithForm(props) {\r\n   \r\n  \r\n        return (\r\n        <div className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_is-opened' : ''} ` }>\r\n            <div className=\"popup__content\">\r\n                <img src={closePic} alt=\"close\" className=\"popup__close\" onMouseUp={props.onClose}/>\r\n                <h3 className={`popup__title popup__title_${props.name}`}>{props.title}</h3>\r\n                <form id={`popupForm${props.name}`} className=\"popup__form\" name=\"form\" noValidate onSubmit={props.onSubmit}>\r\n                    {props.children}  \r\n                <button id={`popupButton${props.name}`} disabled={props.buttonDisabled} type=\"submit\" className=\"button popup__button\">{props.buttonText === '' ? props.submitBtnTitle : props.buttonText}</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n        );\r\n    \r\n}\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\n\r\nfunction AddCardPopup (props) {\r\n\r\n    const [cardName, setCardName] = React.useState('');\r\n    const [cardNameValue, setСardNameValue] = React.useState('');\r\n    const [cardNameError, setСardNameError] = React.useState('');\r\n    const [cardLink, setCardLink] = React.useState('');\r\n    const [cardLinkValue, setСardLinkValue] = React.useState('');\r\n    const [cardLinkError, setСardLinkError] = React.useState('');\r\n\r\n    const handleChangeCardName = (e) => {\r\n        setСardNameValue(e.target.value);\r\n        setCardName(e.target.value);\r\n        setСardNameError(handleErrorCardName(e));\r\n    }\r\n    const handleChangeCardLink = (e) => {\r\n        setСardLinkValue(e.target.value);\r\n        setCardLink(e.target.value);\r\n        setСardLinkError(handleErrorCardLink(e));\r\n    }\r\n    const handleErrorCardName = (e) => {\r\n     \r\n        if (e.target.value.length === 0) {\r\n            return 'Это обязательное поле';\r\n        }\r\n        else if (e.target.value.length === 1 || e.target.value.length >= 30 ) {\r\n            return 'Должно быть от 2 до 30 символов';\r\n        } else {\r\n            return '';\r\n        }\r\n    };\r\n    const handleErrorCardLink = (e) => {\r\n     \r\n        if (e.target.value.length === 0) {\r\n            return 'Это обязательное поле';\r\n        }\r\n        else if (!/^((ftp|http|https):\\/\\/)?(www\\.)?([A-Za-zА-Яа-я0-9]{1}[A-Za-zА-Яа-я0-9\\-]*\\.?)*\\.{1}[A-Za-zА-Яа-я0-9-]{2,8}(\\/([\\w#!:.?+=&%@!\\-\\/])*)?/.test(e.target.value)) {\r\n            return'Здесь должна быть ссылка';\r\n        } else {\r\n            return '';\r\n        }\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        if(!cardNameError && !cardLinkError && cardNameValue && cardLinkValue){\r\n\r\n            props.onAddCard({\r\n                cardName,\r\n                cardLink,\r\n            });\r\n            setСardNameValue('');\r\n            setСardLinkValue('');\r\n        }\r\n    }\r\n\r\n        return (\r\n                \r\n        <PopupWithForm onSubmit={handleSubmit} isOpen={props.isOpen} onClose={props.onClose} name=\"addCardPopup\" submitBtnTitle=\"+\" title=\"Новое место\" buttonText={props.buttonText} buttonDisabled={!(!cardNameError && !cardLinkError && cardNameValue && cardLinkValue)} children={\r\n            <>\r\n                <input id=\"inputName\" type=\"text\" name=\"name\" required minLength=\"2\" maxLength=\"30\" onChange={handleChangeCardName} className=\"popup__input popup__input_type_name\" placeholder=\"Название\"/>\r\n                <span id='error-inputName' className=\"error\">{cardNameError}</span>\r\n\r\n                <input id=\"inputLink\" type=\"url\" name=\"link\" required minLength=\"2\" onChange={handleChangeCardLink} className=\"popup__input popup__input_type_link-url\" placeholder=\"Ссылка на картинку\"/>\r\n                <span id=\"error-inputLink\" className=\"error\">{cardLinkError}</span>\r\n            </>  \r\n        }/>\r\n    );\r\n}\r\nexport default AddCardPopup;\r\n\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction EditPopup(props){\r\n\r\nconst currentUser = React.useContext(CurrentUserContext);\r\n\r\n    const [name, setName] = React.useState('');\r\n    const [nameValue, setNameValue] = React.useState('');\r\n    const [nameError, setNameError] = React.useState('');\r\n    const [description, setDescription] = React.useState('');\r\n    const [descriptionValue, setDescriptionValue] = React.useState('');\r\n    const [descriptionError, setDescriptionError] = React.useState('');\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser]);\r\n\r\n    const handleChangeName = (e) => {\r\n        setNameValue(e.target.value);\r\n        setName(e.target.value);\r\n        setNameError(handleError(e));\r\n    }\r\n    const handleChangeDescription = (e) => {\r\n        setDescriptionValue(e.target.value);\r\n        setDescription(e.target.value);\r\n        setDescriptionError(handleError(e));\r\n    }\r\n\r\n    const handleError = (e) => {\r\n     \r\n        if (e.target.value.length === 0) {\r\n            return 'Это обязательное поле';\r\n        }\r\n        else if (e.target.value.length === 1) {\r\n            return 'Должно быть от 2 до 30 символов';\r\n        } else {\r\n            return '';\r\n        }\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        if(!nameError && !descriptionError && nameValue && descriptionValue){\r\n        // Передаём значения управляемых компонентов во внешний обработчик\r\n            props.onUpdateUser({\r\n            name,\r\n            about: description,\r\n            });\r\n            setNameValue('');\r\n            setDescriptionValue('');\r\n        }\r\n    }\r\n\r\n    return (\r\n                \r\n        <PopupWithForm onSubmit={handleSubmit} isOpen={props.isOpen} onClose={props.onClose} name=\"editPopup\" submitBtnTitle=\"Сохранить\" title=\"Редактировать профиль\" buttonText={props.buttonText} buttonDisabled={!(!nameError && !descriptionError && nameValue && descriptionValue)} children={\r\n            <>\r\n                <input id=\"inputUserNameEdit\" type=\"text\" minLength=\"2\" maxLength=\"30\" value={nameValue} onChange={handleChangeName} required name=\"userName\" className=\"popup__input popup__input_type_userName\" placeholder=\"Имя\"/>\r\n                <span id=\"error-inputUserNameEdit\" className=\"error\">{nameError}</span>\r\n                \r\n                <input id=\"inputUserInfoEdit\" type=\"text\" name=\"userInfo\" minLength=\"2\" value={descriptionValue} onChange={handleChangeDescription} required className=\"popup__input popup__input_type_userInfo\"  placeholder=\"О себе\"/>\r\n                <span  id=\"error-inputUserInfoEdit\" className=\"error\">{descriptionError}</span>\r\n            </>  \r\n        }/>\r\n    );\r\n\r\n}\r\nexport default EditPopup;\r\n\r\n\r\n","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\n\r\nfunction EditPhotoPopup (props) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    const [avatar, setAvatar] = React.useState('');\r\n    const [value, setValue] = React.useState('');\r\n    const [error, setError] = React.useState('');\r\n\r\n    const avatarRef = React.useRef();\r\n\r\n    React.useEffect(() => {\r\n        setAvatar(currentUser.avatar);\r\n    }, [currentUser]);\r\n\r\n    const handleChange = (e) => {        \r\n\r\n        setValue(e.target.value);\r\n        setAvatar(e.target.value)\r\n        setError(handleError(e));\r\n\r\n    }\r\n    const handleError = (e) => {\r\n    \r\n        if (e.target.value.length === 0) {\r\n            return 'Это обязательное поле';\r\n        }\r\n        else if (!/^((ftp|http|https):\\/\\/)?(www\\.)?([A-Za-zА-Яа-я0-9]{1}[A-Za-zА-Яа-я0-9\\-]*\\.?)*\\.{1}[A-Za-zА-Яа-я0-9-]{2,8}(\\/([\\w#!:.?+=&%@!\\-\\/])*)?/.test(e.target.value)) {\r\n            return 'Здесь должна быть ссылка';\r\n        } else {\r\n            return '';\r\n        }\r\n      }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n      if(!error && value){\r\n        props.onUpdateAvatar({\r\n          avatar: avatarRef.current.value,\r\n        });\r\n      setValue('');\r\n\r\n        }\r\n    }\r\n        return (\r\n                \r\n        <PopupWithForm onSubmit={handleSubmit} isOpen={props.isOpen} onClose={props.onClose} name=\"EditPhotoPopup\" submitBtnTitle=\"Сохранить\" title=\"Обновить аватар\"  buttonText={props.buttonText} buttonDisabled={!(!error && value)} children={\r\n            <>             \r\n            <input value={value} ref={avatarRef} onChange={handleChange} avatar={avatar} id=\"inputLinkPhoto\" type=\"url\" name=\"link\" required minLength=\"2\" className=\"popup__input popup__input_type_link-url_photo\" placeholder=\"Ссылка на аватар\"/>\r\n            <span  id=\"error-inputLinkPhoto\" className=\"error\">{error}</span>      \r\n            </>  \r\n        }/>\r\n    );\r\n\r\n}\r\nexport default EditPhotoPopup;\r\n\r\n\r\n","import React from 'react';\r\nimport closePic from '../images/close.svg';\r\n\r\n\r\nfunction ImagePopup(props) {\r\n  \r\n        return (\r\n\r\n            <div id=\"popupPic\" className={`popup popup__pic ${props.card !== false ? 'popup_is-opened' : ''}`}>\r\n                <div className=\"popup__content popup__content_pic\">\r\n                    <img id=\"popupPicOpen\" src={props.card.link} className =\"popup-pic__open\" alt=\"\"/>\r\n                    <img src={closePic} onMouseUp={props.onClose} alt=\"\" id=\"popupClosePic\" className=\"popup__close\"/>\r\n                </div>\r\n            </div>\r\n        );\r\n    \r\n}\r\nexport default ImagePopup;","import React from 'react';\r\n\r\n\r\nfunction Footer() {\r\n\r\n        return (\r\n            <footer className=\"footer root__section\">\r\n                <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\r\n            </footer>\r\n        );\r\n    \r\n}\r\n\r\nexport default Footer;","import React, {useEffect} from 'react';\nimport { BrowserRouter, HashRouter, Route, Switch, Redirect, withRouter } from 'react-router-dom';\nimport apiParams from './apiParams';\nimport AuthChecker from './AuthChecker'\nimport * as secretToken from './secretToken';\nimport { AppContext } from './AppContext';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext'\nimport Login from './Login'\nimport Header from './Header';\nimport Main from './Main';\nimport AddCardPopup from './AddCardPopup';\nimport EditPopup from './EditPopup';\nimport EditPhotoPopup from './EditPhotoPopup';\nimport ImagePopup from './ImagePopup';\nimport Footer from './Footer';\n\nfunction App(props)  {\n const api = apiParams.api;\n const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n const [selectedCard, setSelectedCard] = React.useState(false);\n\n const [currentUser, setCurrentUser] = React.useState('');\n const [cards, setCards] = React.useState('');\n\n const [buttonText, setButtonText] = React.useState('');\n const [isLoggedIn, setIsLoggedIn] = React.useState(false);\n\n useEffect(() => {\n\n    const jwt = localStorage.getItem('jwt');\n    if (jwt && AuthChecker(jwt)){\n\n        setIsLoggedIn(true);\n   \n          getContent();\n    \n  }\n\n  });\n\n\n const handleLogin = () => {\n    setIsLoggedIn(true);\n    localStorage.setItem('jwt', secretToken.secretToken);\n    getContent();\n }\n const handleLogout = () => {\n    setIsLoggedIn(false);\n    localStorage.removeItem('jwt', secretToken.secretToken);\n\n }\nconst getContent = () =>{\n        api.getUserInfo().then(data => {\n            setCurrentUser(data);\n        });\n\n        api.getInitialCards().then(data => {\n            console.log(data)\n            setCards(data)\n        });\n    \n};\n\n\nconst handleCardLike = (card) => {\n\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    !isLiked ?  api.likeCard(card._id).then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      setCards(newCards);\n    })\n    :\n    api.deleteLike(card._id).then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      });\n\n}\nconst handleCardDelete = (card) => {\n    if(card.owner._id === currentUser._id){\n        api.deleteCard(card._id).then(() => {\n        const newCards = cards.filter((c) => c._id !== card._id );\n        setCards(newCards);\n        });  \n    }            \n}\n    \nconst handleCardClick = (card) => {\n    setSelectedCard(card);\n}\n    \nconst handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true);\n };\n\nconst handleEditProfileClick = () => {\n   setIsEditProfilePopupOpen(true);\n\n}; \n\nconst handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true);\n\n};\nconst closeAllPopups = () => {\n    //смена надписи на кнопке\n    setButtonText('');\n\n    setSelectedCard(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n}\n\nconst handleUpdateUser = (data) => {\n    setButtonText('Загрузка...');\n    api.editProfile(data.name, data.about).then(data => {\n        setCurrentUser(data);\n\n        closeAllPopups();\n        \n    });\n}\nconst handleUpdateAvatar = (data) => {\n    setButtonText('Загрузка...');\n\n    api.updateAvatar(data.avatar).then(data => {\n        \n        setCurrentUser(data);\n\n        closeAllPopups();\n    })\n}\nconst handleAddPlaceSubmit = (data) => {\n    setButtonText('Загрузка...');\n\n    api.addCard(data.cardName, data.cardLink).then((newCard) => {\n        setCards([...cards, newCard]);\n\n        closeAllPopups();\n    }); \n    \n}\n        return (\n            <>\n                {/* <AppContext.Provider value={{state: this.state, handleLogin: this.handleLogin}}> */}\n                <Header isLoggedIn={isLoggedIn} onLogOut={handleLogout}/>\n                <HashRouter>\n                <Switch>\n                <Route exact path=\"/\">\n                    {isLoggedIn ? <Redirect to=\"/user\" /> : <Login onLogIn={handleLogin} />}\n                </Route>\n                <Route exact path=\"/user\">\n                    {isLoggedIn ?\n                    <CurrentUserContext.Provider value={currentUser}>\n                        <Main onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} \n                            onEditAvatar={handleEditAvatarClick} onCardClick={handleCardClick} cards={cards} onCardLike={handleCardLike} onCardDelete={handleCardDelete}/>\n                        <ImagePopup card={selectedCard} onClose={closeAllPopups}/>\n                        <AddCardPopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddCard={handleAddPlaceSubmit} buttonText={buttonText}/>\n                        <EditPopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} buttonText={buttonText}/>\n                        <EditPhotoPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} buttonText={buttonText}/>\n                    </CurrentUserContext.Provider> : <Redirect to=\"/\" />}\n                </Route>\n                </Switch>\n                </HashRouter>\n                <Footer />\n                {/* </ AppContext.Provider>  */}\n            </>\n        );\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}